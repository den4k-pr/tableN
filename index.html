<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/nullStyle.css">
    <link rel="icon" href="./img/favicon.png" type="image/png">
    <link rel="stylesheet" href="css/main.css">
    <title>Ho-ho-hold That Stretch!</title>
    
</head>

<body>

    <img src="./img/plants.png" class="plants" alt="plants">
    <div style="padding: 0 10px;">
        <h1 class="title">
            Ho-ho-hold<br><span style="color: red">That Stretch!</span>
        </h1>
        <p class="mainText">
            When everything gets festive and busy, your body<br>deserves softness and attention<br><br>

            Inside this calendar youâ€™ll find small daily pleasures:<br><span class="red-text">short flows, gentle mobility, self-care rituals,
            and<br>simple practices</span> that help you end the year feeling<br>lighter, stronger, and proud of
            yourself<br><br>

            <span style="font-weight: 600;">A gift from you, to you ðŸ’›</span>
        </p>
    </div>
    <img src="./img/kris.png" class="kris" alt="kris">
    <img src="./img/logo.svg" class="logo" alt="logo">
    <div class="popup">
        <div class="popup__content">
            <button class="close"><img src="./img/close.svg" alt="close"></button>
            <h2 class="popup__content-title">
                Lets<br>start<br>with <br>day <span>1</span>!</h2>

            <p class="popup__content-text">
                Before we jump into the fun, letâ€™s set the foundationâœ¨<br> Use it daily to keep your routines simple,
                joyful, and stress-free
            </p>
            <button class="download">
                Download a Tracker
                <img src="./img/file.png" class="img-file" alt="file">
            </button>
        </div>
    </div>
    <div class="calendar-grid">
        <div class="item g m">01</div>
        <div class="item r w-2">02</div>
        <div class="item b m">03</div>

        <div class="item r h-2">04</div>
        <div class="item b m">05</div>
        <div class="item r w-2">06</div>

        <div class="item g m">07</div>
        <div class="item r m">08</div>
        <div class="item b h-2">09</div>
        <div class="item b m">10</div>
        <div class="item g w-2">11</div>

        <div class="item r m">12</div>
        <div class="item b m">13</div>
        <div class="item r m">14</div>
        <div class="item g m">15</div>

        <div class="item g w-2">16</div>
        <div class="item b h-2">17</div>
        <div class="item r h-2">18</div>

        <div class="item r h-2">20</div>
        <div class="item g m">19</div>

        <div class="item b m">21</div>
        <div class="item r m">22</div>
        <div class="item g m">23</div>

        <div class="item g w-2" style="z-index: 3;">24</div>
        <div class="item r w-2" style="z-index: 2;"><img src="./img/dm.svg" class="dm" alt="dm" />25</div>

        <div class="item r m">26</div>
        <div class="item b w-2">27</div>

        <div class="item h-2">30</div>

        <div class="item w-2">28</div>
        <div class="item m">29</div>
    </div>


</body>
<script>
    document.addEventListener("DOMContentLoaded", () => {

        const popup = document.querySelector(".popup");
        const popupContent = document.querySelector(".popup__content");
        const btnClose = document.querySelector(".popup .close");
        const btnDownload = document.querySelector(".popup .download");
        const popupDaySpan = document.querySelector(".popup__content-title span");
        const items = document.querySelectorAll(".calendar-grid .item");

        if (!popup) return;

        // ===== OPEN POPUP =====
        function openPopup(dayNumber) {
            popupDaySpan.textContent = dayNumber; // ðŸ‘‰ Ð’Ð¡Ð¢ÐÐ’Ð›Ð¯Ð„ÐœÐž Ð§Ð˜Ð¡Ð›Ðž Ð”ÐÐ¯

            popup.classList.add("active");
            document.body.style.overflow = "hidden";
        }

        // ===== CLOSE POPUP =====
        function closePopup() {
            popup.classList.remove("active");
            document.body.style.overflow = "";
        }

        // ===== CLICK ON CALENDAR ITEM =====
        items.forEach(item => {
            item.addEventListener("click", () => {
                let day = item.textContent.trim();       // Ð§Ð¸Ñ‚Ð°Ñ”Ð¼Ð¾ Ñ‡Ð¸ÑÐ»Ð¾ Ð´Ð½Ñ
                day = day.replace(/\D/g, "");            // ÐŸÑ€Ð¸Ð±Ð¸Ñ€Ð°Ñ”Ð¼Ð¾ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ñ– Ð·Ð°Ð¹Ð²Ñ– ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¸
                day = parseInt(day, 10);                 // ÐŸÐµÑ€ÐµÑ‚Ð²Ð¾Ñ€ÑŽÑ”Ð¼Ð¾ Ð½Ð° Ñ‡Ð¸ÑÐ»Ð¾ â†’ Ð¿Ñ€Ð¸Ð±Ð¸Ñ€Ð°Ñ”Ñ‚ÑŒÑÑ Ð²ÐµÐ´ÑƒÑ‡Ð¸Ð¹ Ð½ÑƒÐ»ÑŒ
                openPopup(day);
            });
        });

        // ===== Close by X =====
        btnClose?.addEventListener("click", closePopup);

        // ===== Close by click outside =====
        popup.addEventListener("click", (e) => {
            if (!popupContent.contains(e.target)) closePopup();
        });

        // ===== Close by ESC =====
        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closePopup();
        });

        // ===== Download PDF =====
        btnDownload?.addEventListener("click", () => {
            const link = document.createElement("a");
            link.href = "./tracker.pdf";
            link.download = "tracker.pdf";
            document.body.appendChild(link);
            link.click();
            link.remove();
        });

    });
</script>


</html>